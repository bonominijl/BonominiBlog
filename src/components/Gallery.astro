---
import PhotoSwipeLightbox from 'photoswipe/lightbox';
import 'photoswipe/style.css';

// Replace with your images (include natural widths/heights for best UX)
const images = [
  { src: '/images/placeholder.svg', w: 400, h: 300, thumb: '/images/placeholder.svg', alt: 'Placeholder Image 1' },
  { src: '/images/placeholder.svg', w: 400, h: 300, thumb: '/images/placeholder.svg', alt: 'Placeholder Image 2' },
  { src: '/images/placeholder.svg', w: 400, h: 300, thumb: '/images/placeholder.svg', alt: 'Placeholder Image 3' },
];
---

<section id="gallery" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
  {images.map((img) => (
    <a 
      href={img.src} 
      data-pswp-width={img.w} 
      data-pswp-height={img.h}
      class="group block overflow-hidden rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105"
    >
      <img 
        src={img.thumb ?? img.src} 
        alt={img.alt} 
        loading="lazy" 
        class="w-full h-48 object-cover group-hover:brightness-110 transition-all duration-300"
      />
      <div class="p-4 bg-white">
        <p class="text-sm text-gray-600 text-center">{img.alt}</p>
      </div>
    </a>
  ))}
</section>

<script is:raw>
  document.addEventListener('DOMContentLoaded', () => {
    const lightbox = new PhotoSwipeLightbox({
      gallery: '#gallery',
      children: 'a',
      pswpModule: () => import('photoswipe')
    });
    lightbox.init();
  });
</script>
